# method 1
# Company::MAANG_CIKS.each do |cik|
#     company = Company.all.find{|c|c.cik == cik}
#     company_forms = Form.connection.select_all("SELECT * FROM forms WHERE cik = #{company.cik}").to_a
#     company_forms.each do |f|
#         associated_form = Form.find{|form|f["id"] == form.id}
#         company.forms << associated_form
#     end
# end

# method 2 => implemented!
# Company::MAANG_CIKS.each do |cik|
#    company = Company.all.find{|c|c.cik == cik}
#    form_all = Form.all
#    form_all.each do |form|
#        if form.cik == company.cik
#            company.forms << form
#        end
#    end
#end

def self.test_helper(before)
    after = Time.now
    test = []
    test << "\n\nCompany cik: #{@cik}"
    test << "started associating forms at #{before}"
    test << "finished associating forms at #{after}"
    test << "operation duration:#{before - after}"
    file = File.open((File.join( __dir__, "/test.txt")), "a")
    file.write(test.join("\n"))
    file.close
end

APIData::GetFormsTableData.associate_forms method # 1
Company cik: 1326801
started associating forms at 2022-04-21 14:47:18 -0700
finished associating forms at 2022-04-21 14:47:40 -0700
operation duration:-21.761636969

Company cik: 1018724
started associating forms at 2022-04-21 14:47:40 -0700
finished associating forms at 2022-04-21 14:48:45 -0700
operation duration:-64.735596316

Company cik: 320193
started associating forms at 2022-04-21 14:48:45 -0700
finished associating forms at 2022-04-21 14:50:49 -0700
operation duration:-123.574024542

Company cik: 1065280
started associating forms at 2022-04-21 14:50:49 -0700
finished associating forms at 2022-04-21 14:54:39 -0700
operation duration:-229.123530257

Company cik: 1652044
started associating forms at 2022-04-21 14:54:39 -0700
finished associating forms at 2022-04-21 15:00:10 -0700
operation duration:-331.303523949

APIData::GetFormsTableData.associate_forms method # 2

Company cik: 1326801
started associating forms at 2022-04-21 16:13:57 -0700
finished associating forms at 2022-04-21 16:14:02 -0700
operation duration:-5.171537205

Company cik: 1018724
started associating forms at 2022-04-21 16:14:02 -0700
finished associating forms at 2022-04-21 16:14:08 -0700
operation duration:-5.401623459

Company cik: 320193
started associating forms at 2022-04-21 16:14:08 -0700
finished associating forms at 2022-04-21 16:14:14 -0700
operation duration:-5.729699403

Company cik: 1065280
started associating forms at 2022-04-21 16:14:15 -0700
finished associating forms at 2022-04-21 16:14:21 -0700
operation duration:-6.380092791

Company cik: 1652044
started associating forms at 2022-04-21 16:14:21 -0700
finished associating forms at 2022-04-21 16:14:28 -0700
operation duration:-6.719240913